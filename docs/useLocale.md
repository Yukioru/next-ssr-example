# useLocale

[Исходный код **useLocale.js**](https://github.com/yukioru/next-ssr-example/blob/main/shared/utils/useLocale.js)

### Для чего?

Это реакт хук. Необходим, если нужно использовать мультиязычность.

Можно использовать на страницах и в любых компонентах

### Как использовать?

Импортировать хук в нужную страницу или компонент

```js
import useLocale from '$shared/utils/useLocale';
```

Использовать на странице

```js
const { t, test, locale, changeLocale } = useLocale();

return (
  <div>
    <h1>{test('welcome') ? t('welcome') : 'Такого ключа нет'}</h1>
    <h2>{t('hello.world')}</h2>
    <p>Сейчас используется язык: {locale}</p>

    <button onClick={() => changeLocale('en')}>
      Изменить язык на английский
    </button>
  </div>
);
```

### Что доступно?

| **Ключ**     | **Описание**                                                                                                                                                 |
| ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| t            | Translator — функция для перевода ключей в мультиязычный текст. Проверяет наличие ключа перед переводом. Не вызовет ошибку при отсутствии переданного ключа. |
| test         | Функция для проверки наличия ключа в переводах. Возвращает Boolean. Является алиасом на `i18n.exists`.                                                       |
| locale       | Значение, указывающее выбранный язык сайта. Является алиасом на `i18n.language`.                                                                             |
| changeLocale | Функция для смены языка сайта. Принимает строку с нужным языком. Проверяет есть ли нужный язык в памяти, если нет — запрашивает его по XHR.                  |
| i18n         | Инстанс i18next. Может понадобится, для дополнительных взаимодействий. [Подробнее об API](https://www.i18next.com/overview/api).                             |
